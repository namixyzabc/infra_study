
---

# RHEL系Linux コマンドリファレンス

## 1. ファイル・ディレクトリ操作
基本となるファイル操作および探索コマンドです。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **ls** | `ls -lart` | ファイル一覧を表示。詳細(`-l`)、隠しファイル含む(`-a`)、更新日時が古い順(`-rt`)で表示。 |
| **cd** | `cd /path`<br>`cd -` | ディレクトリ移動。`-`で直前のディレクトリに戻る。 |
| **pwd** | `pwd` | カレントディレクトリのフルパスを表示。 |
| **mkdir** | `mkdir -p [dir]` | ディレクトリ作成。`-p`で親ディレクトリが存在しない場合に自動作成。 |
| **cp** | `cp -a [元] [先]` | ファイルコピー。`-a`で属性・タイムスタンプを保持（バックアップ時に必須）。 |
| **mv** | `mv [元] [先]` | ファイル移動、またはリネーム。 |
| **rm** | `rm -rf [対象]` | 削除。`-r`で再帰的（ディレクトリごと）、`-f`で強制削除。**※取扱注意** |
| **touch** | `touch [file]` | 空ファイル作成、または既存ファイルのタイムスタンプ更新。 |
| **ln** | `ln -s [実体] [リンク]` | シンボリックリンクを作成。 |
| **find** | `find / -name "[名]"`<br>`find . -mtime -7` | ファイル検索。名前や更新日時（`-mtime -7`は7日以内）などを指定。※ルートディレクトリ / 以下すべてを対象としている |

## 2. ファイル閲覧・編集・テキスト処理
設定ファイルの編集やログ解析、テキストデータの加工に使用します。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **cat** | `cat [file]` | ファイル内容を全表示。短いファイル向け。 |
| **less** | `less [file]` | スクロール表示。検索(`/` + 文字列)、移動(`G`:末尾, `g`:先頭)が可能。ログ調査の基本。 |
| **tail** | `tail -f [file]`<br>`tail -n 100` | 末尾を表示。`-f`で追記をリアルタイム監視。`-n`で行数指定。 |
| **head** | `head -n 20 [file]` | 先頭を表示。 |
| **grep** | `grep "文字" [file]`<br>`grep -r "文字" [dir]` | 文字列検索。`-r`でディレクトリ配下を再帰検索、`-v`で除外、`-i`で大文字小文字無視。 |
| **vi / vim** | `vi [file]` | テキストエディタで編集。 |
| **diff** | `diff [file1] [file2]` | 2つのファイルの差分を表示。`-u`でunified形式が見やすい。 |
| **awk** | `awk '{print $1}'` | テキスト処理。指定した列（例:1列目）を抽出するのによく使う。 |
| **sed** | `sed 's/旧/新/g'` | 文字列置換。ファイル上書きは`-i`だが、確認後の実行を推奨。 |
| **sort** | `sort | uniq -c` | ソートと重複排除。`uniq -c`で重複回数をカウント（ログ集計で頻出）。 |
| **wc** | `wc -l` | 行数カウント。 |

## 3. システム情報・リソース監視
サーバーのスペック確認や現在の負荷状況を把握します。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **uname** | `uname -r`<br>`uname -a` | カーネルバージョンやアーキテクチャを表示。 |
| **hostnamectl**| `hostnamectl` | ホスト名、OSバージョン、カーネル情報などを一括表示。 |
| **cat /etc/*release** | `cat /etc/redhat-release` | RHELのリリースバージョン（例: 8.4, 9.2）を確認。 |
| **uptime** | `uptime` | 稼働時間とロードアベレージ（CPU負荷）を表示。 |
| **top** | `top` | CPU・メモリ使用率、プロセス状況をリアルタイム表示。`1`キーでコア別表示。 |
| **free** | `free -h` | メモリとスワップの使用量を人間が読みやすい単位(GB/MB)で表示。 |
| **df** | `df -hT` | ディスク使用率とファイルシステムタイプを表示。 |
| **du** | `du -sh [dir]` | ディレクトリごとの容量を表示。ディスク圧迫箇所の特定に使用。 |
| **lscpu** | `lscpu` | CPUの詳細情報（コア数、ソケット数など）を表示。 |
| **lsblk** | `lsblk` | ブロックデバイス（ディスク構成）の一覧表示。 |
| **dmesg** | `dmesg -T` | カーネルリングバッファ（ハードウェア検知やドライバエラー）の表示。 |

## 4. サービス管理 (systemd)
RHEL7以降の標準である`systemctl`を使用したデーモン管理です。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **systemctl status** | `systemctl status [svc]` | サービスの稼働状況と直近ログを表示。 |
| **systemctl start/stop**| `start`, `stop` | サービスの起動、停止。 |
| **systemctl restart** | `restart` | サービスの再起動。設定変更の反映に使用。 |
| **systemctl enable** | `enable`, `disable` | OS起動時の自動起動の有効化/無効化。 |
| **systemctl is-active**| `is-active` | 起動しているか判定（スクリプト向け）。 |
| **systemctl list-units**| `--type=service` | 起動中のサービス一覧を表示。 |

## 5. プロセス管理
動作中のプログラム制御を行います。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **ps** | `ps aux`<br>`ps -ef` | 実行中の全プロセスを表示。`| grep`と組み合わせて使用。 |
| **kill** | `kill [PID]` | プロセスID(PID)を指定して終了シグナルを送る。 |
| **kill -9** | `kill -9 [PID]` | プロセスを強制終了（通常のkillで落ちない場合）。 |
| **pkill** | `pkill [名]` | プロセス名指定で終了させる。 |
| **jobs** | `jobs` | バックグラウンドジョブの一覧。 |
| **lsof** | `lsof -p [PID]`<br>`lsof -i :80` | プロセスが開いているファイルや、ポートを使用しているプロセスを特定。※「List Open Files」の略 |

## 6. ネットワーク管理
IP設定、疎通確認、ファイアウォール操作を行います。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **ip** | `ip a` (addr)<br>`ip route` | IPアドレス、MACアドレス、ルーティングテーブルの表示（`ifconfig`, `netstat -r`の後継）。 |
| **ss** | `ss -tulpn` | リッスンしているポートとプロセスの表示（`netstat`の後継）。 |
| **nmcli** | `nmcli d`<br>`nmcli c show` | NetworkManagerの操作。デバイス状態や接続設定の確認。 |
| **ping** | `ping -c 4 [先]` | 疎通確認。 |
| **curl** | `curl -v [URL]` | Webサーバーへの接続確認。HTTPヘッダ等の確認。 |
| **dig** | `dig [domain]` | DNS名前解決の確認（`nslookup`より詳細）。 |
| **tcpdump** | `tcpdump -i eth0 port 80` | パケットキャプチャ。通信が届いているかの最終確認。 |
| **firewall-cmd** | `--list-all` | firewalldの設定確認。 |
| **firewall-cmd** | `--add-port=80/tcp --permanent` | ポート開放（恒久設定）。設定後は`--reload`が必要。 |

## 7. パッケージ管理 (DNF / YUM / RPM)
ソフトウェアのインストールや管理です。RHEL8以降は`dnf`推奨ですが`yum`も使用可能です。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **dnf / yum** | `install [pkg]` | パッケージのインストール。 |
| | `update [pkg]` | パッケージの更新（引数なしで全更新）。 |
| | `remove [pkg]` | パッケージのアンインストール。 |
| | `list installed` | インストール済みパッケージの一覧。 |
| | `search [文字列]` | パッケージを検索。 |
| | `provides [path]` | 指定ファイル（コマンド）がどのパッケージに含まれるか検索。 |
| | `history` | インストール履歴の確認とロールバック(`undo`)。 |
| **rpm** | `rpm -qa` | インストール済みRPM全表示。 |
| | `rpm -qi [pkg]` | パッケージの詳細情報表示。 |

## 8. ユーザー・権限管理
ユーザー作成やアクセス権限の設定です。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **useradd** | `useradd [user]` | ユーザー作成。 |
| **passwd** | `passwd [user]` | パスワード設定・変更。 |
| **id** | `id [user]` | UID、GID、所属グループの確認。 |
| **usermod** | `usermod -aG [grp] [user]` | ユーザー情報の変更（グループ追加など）。 |
| **chown** | `chown [user]:[grp] [file]` | 所有者とグループの変更。`-R`で再帰的。 |
| **chmod** | `chmod 755 [file]`<br>`chmod +x [file]` | パーミッション変更。`+x`は実行権限付与。 |
| **su** | `su - [user]` | ユーザー切り替え。`-`で環境変数も読み込む（推奨）。 |
| **sudo** | `sudo [cmd]` | 特権（root権限など）でコマンドを実行。 |

## 9. ログ・ジャーナル調査
システムトラブル時に参照する場所とコマンドです。

| コマンド/パス | 説明 |
| :--- | :--- |
| **journalctl** | `journalctl -xe`：システム全体のエラー含む最新ログ。<br>`journalctl -u [svc]`：特定サービスのログ。<br>`journalctl --since "today"`：今日以降のログ。 |
| **/var/log/messages** | システム全般のログファイル。 |
| **/var/log/secure** | 認証、SSH接続、sudo使用履歴などのセキュリティログ。 |
| **/var/log/cron** | 定期実行タスク(cron)のログ。 |
| **/var/log/dmesg** | 起動時のハードウェア・カーネルメッセージ。 |

## 10. ストレージ・LVM（論理ボリューム）
RHELのデフォルトであるLVM構成の操作やファイルシステム管理です。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **mount** | `mount`<br>`mount -a` | マウント状況の確認、または`/etc/fstab`の一括マウント。 |
| **umount** | `umount [path]` | アンマウント。 |
| **pvs / vgs / lvs** | - | 物理ボリューム(PV)、ボリュームグループ(VG)、論理ボリューム(LV)の一覧。 |
| **lvdisplay** | `lvdisplay` | 論理ボリュームの詳細確認。 |
| **lvextend** | `-r -L +10G [LV]` | 論理ボリュームの拡張。`-r`をつけるとファイルシステムも同時に拡張可能。 |
| **blkid** | `blkid` | UUIDやファイルシステムタイプの確認（fstab編集時に必須）。 |

## 11. セキュリティ (SELinux / SSL)
RHEL特有のセキュリティ機能や証明書関連です。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **getenforce** | `getenforce` | SELinuxの状態確認（Enforcing / Permissive / Disabled）。 |
| **setenforce** | `setenforce 0` | SELinuxの一時無効化（Permissive）。トラブル切り分けで使用。 |
| **sestatus** | `sestatus` | SELinuxの詳細ステータス確認。 |
| **restorecon** | `restorecon -Rv [dir]` | ファイルのSELinuxコンテキストを正しい状態に修復。 |
| **openssl** | `x509 -in [crt] -text` | SSL証明書の内容・期限などを確認。 |

## 12. 時刻管理・スケジュール
ログの整合性や定期処理の管理です。

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **date** | `date` | 現在日時の表示。 |
| **timedatectl** | `timedatectl` | 時刻、タイムゾーン、NTP同期状態の一括表示。 |
| **chronyc** | `chronyc sources -v` | NTPサーバーとの同期ステータス確認（`*`が同期中）。 |
| **crontab** | `crontab -e`<br>`crontab -l` | 定期実行タスクの編集・一覧表示。 |
| **at** | `at now + 1 hour` | 1回限りのスケジュール実行予約。 |

## 13. 圧縮・解凍・アーカイブ

| コマンド | オプション例 | 説明 |
| :--- | :--- | :--- |
| **tar** | `tar cvzf [file.tar.gz] [dir]` | ディレクトリをtar.gz形式で圧縮。 |
| | `tar xvzf [file.tar.gz]` | tar.gzファイルを解凍・展開。 |
| | `tar tvf [file.tar.gz]` | アーカイブの中身をリスト表示（解凍せず確認）。 |
| **zip / unzip** | - | zip形式の圧縮・解凍。 |

## 14. その他・便利コマンド

| コマンド | 説明 |
| :--- | :--- |
| **history** | 実行したコマンドの履歴を表示。`!番号`で再実行可能。 |
| **alias** | 設定されているエイリアス（短縮コマンド）を表示。 |
| **which** | コマンドの実行パス（場所）を表示。 |
| **man** | `man [コマンド]` でマニュアルを表示。 |
| **rsync** | ファイル同期・バックアップ。`rsync -avz [元] [先]` でよく使う。 |

---

