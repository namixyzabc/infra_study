
## 方法1：CLIコマンドから再ログイン（一番簡単）

Gemini CLIがまだ起動できる（コマンド入力ができる）場合は、この方法が最も早いです。

1.  ターミナルで `gemini` を起動します。
2.  入力欄に以下のコマンドを入力して `Enter` を押します。
    ```text
    /auth
    ```
3.  認証方法の選択メニューが表示されます。
    *   **Login with Google** を再度選択してください。
4.  ブラウザが開くので、再度ログインプロセスを行ってください。

---

## 方法2：認証情報ファイルの削除（推奨：完全リセット）

「認証エラーでCLIがすぐに終了してしまう」場合や、「方法1で直らない」場合は、パソコン内に保存されている**古い認証情報を手動で削除**します。

Windowsの場合、以下の手順で行います。

1.  **Visual Studio Code (VSC)** やターミナルを一度**終了**します。
2.  **エクスプローラー**（フォルダのアイコン）を開きます。
3.  アドレスバー（パスが表示されている場所）に以下を入力し、`Enter` を押します。
    ```text
    %USERPROFILE%\.gemini
    ```
    ※ これで `C:\Users\あなたのユーザー名\.gemini` フォルダに移動します。
4.  このフォルダ内にあるファイルを確認します。
    *   認証関連のファイル（例: `credentials.json` や `token` などの名前のファイル、またはそれらしいフォルダ）があれば**削除**してください。
    *   **よくわからなければ、`.gemini` フォルダの中身をすべて削除しても構いません。**
        *   ※注意：これを行うと、`settings.json`（設定）や履歴もリセットされ、初期状態に戻ります。
5.  再度 VSC を開き、ターミナルで `gemini` コマンドを実行します。
6.  初回起動時と同じように「認証方法の選択画面」が出るので、再度ログインを行ってください。

---

## 方法3：環境変数の確認（競合の解消）

もし以前に「APIキー」などを設定していた場合、それが邪魔をしている可能性があります。

1.  PowerShell（VSCのターミナル）で以下のコマンドを入力し、環境変数が残っていないか確認します。
    ```powershell
    $env:GEMINI_API_KEY
    $env:GOOGLE_API_KEY
    ```
2.  もし何か文字列（キー）が表示された場合、それが優先されてしまっています。一時的に無効化するには、以下のコマンドを入力します。
    ```powershell
    $env:GEMINI_API_KEY=""
    $env:GOOGLE_API_KEY=""
    ```
3.  この状態で再度 `gemini` を実行し、ログインを試してください。

---

## それでもうまくいかない場合：APIキー認証への切り替え

Googleアカウント認証（Login with Google）がどうしても機能しない場合は、より確実な「APIキー認証」に切り替えることをお勧めします。

1.  **[Google AI Studio](https://aistudio.google.com/app/apikey)** にアクセスし、APIキーを取得します。
2.  VSCのターミナルで以下のように入力して設定します（`YOUR_KEY`の部分を取得したキーに書き換えてください）。
    ```powershell
    $env:GEMINI_API_KEY="取得したAPIキー"
    ```
3.  `gemini` を起動します。
4.  認証メニューで **[Use Gemini API key]** を選択します。
